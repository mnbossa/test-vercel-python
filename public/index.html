<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>AImend</title>
    <style>
      body { font-family: system-ui, sans-serif; margin: 20px; }
      textarea { width: 100%; min-height: 140px; font-family: monospace; }
      .row { display:flex; gap:10px; align-items:center; margin-top:10px; }
      .col { flex: 1; }
      .controls { display:flex; gap:8px; }
      #out { white-space: pre-wrap; background:#f7f7f7; padding:12px; border-radius:6px; margin-top:12px; max-height:400px; overflow:auto; }
      label { font-weight:600; margin-bottom:6px; display:block; }
      .small { font-size:0.9rem; color:#555; }
    </style>
  </head>
  <body>
    <h1>AImend: Input query</h1>

    <label for="system_msg">SYSTEM_MSG (editable). Edit, then click Save to store locally.</label>
    <textarea id="system_msg"></textarea>
    <div class="row">
      <div class="controls">
        <button id="save_sys">Save system message</button>
        <button id="reset_sys">Reset to default</button>
      </div>
      <div class="small">Saved in browser localStorage; sent to proxy when Search is clicked.</div>
    </div>

    <hr>

    <div style="display:flex; gap:10px; margin-top:12px;">
      <input id="q" placeholder="Enter query (e.g., CAP)" style="flex:1">
      <select id="doc_type">
        <option value="">Any</option>
        <option value="RECOMMENDATION">RECOMMENDATION</option>
        <option value="DRAFT">DRAFT</option>
      </select>
      <button id="go">Search</button>
    </div>

    <div style="margin-top:12px;">
      <label for="debug"><input type="checkbox" id="debug"> Request debug info</label>
    </div>

    <pre id="out"></pre>

    <script src="/app.js"></script>
  </body>
</html>


<!-- <!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>AImend</title>
  </head>
  <body>
    <h1>AImend</h1>
    <input id="q" placeholder="Enter query (e.g., Recommendations related to CAP)" style="width:40%">
    <!-- <select id="doc_type">
      <option value="">Any</option>
      <option value="RECOMMENDATION">RECOMMENDATION</option>
      <option value="DRAFT">DRAFT</option>
    </select> -->
    <button id="go">Search</button>
    <input id="prompt" value="You are an AGRI documents search assistant that only decides whether a user input is a valid search request for European Parliament AGRI committee documents. Do not act as a general assistant. If the input is NOT a valid AGRI documents search, output exactly this single-line string (no quotes, no extra whitespace, nothing else):\n"
    "I can only search AGRI committee documents; no matching documents found.\n If the input IS a valid AGRI documents search, output only a JSON array of one or more plain search-term strings (only the array, nothing else). Each element must be a short query string suitable to run on the AGRI Documents Search page (for example: \"CAP final recommendation 2025\", \"CAP Strategic plans amendment time period\"). Do not output explanation, markup, reasoning, or any text outside the JSON array. The proxy will reject any output that is not exactly the fallback "
    "string or a JSON array of strings." style="width:40%">
    <pre id="out" style="white-space:pre-wrap;"></pre>
    <!-- Load script after DOM elements -->
    <script src="/app.js"></script>
  </body>
</html> -->
